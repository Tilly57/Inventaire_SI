# Changelog

All notable changes to this project will be documented in this file.


# Release v1.0.2 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: repair CI â€” unit tests and TypeScript build

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 0a1b7e8 fix: repair CI â€” unit tests and TypeScript build (Tilly57)


# Release v1.0.1 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes


### ğŸ“š Documentation
- docs: mark Let's Encrypt as completed in ROADMAP

### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 8afe9a5 docs: mark Let's Encrypt as completed in ROADMAP (Tilly57)


# Release v1.0.0 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features
- feat: sprint 10-12 â€” E2E tests, Let's Encrypt infra, ROADMAP v1.0.0

### ğŸ› Bug Fixes


### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 052e467 feat: sprint 10-12 â€” E2E tests, Let's Encrypt infra, ROADMAP v1.0.0 (Tilly57)


# Release v0.9.20 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: audit sprint 9 â€” rate limiting, race condition, nginx hardening

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 4ea54fd fix: audit sprint 9 â€” rate limiting, race condition, nginx hardening (Tilly57)


# Release v0.9.19 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: audit sprint 7-8 â€” security and code quality fixes

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 5601931 fix: audit sprint 7-8 â€” security and code quality fixes (Tilly57)


# Release v0.9.18 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features
- feat: server-side pagination and search for loans (M6)

### ğŸ› Bug Fixes


### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 3789b73 feat: server-side pagination and search for loans (M6) (Tilly57)


# Release v0.9.17 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: sprint 5 audit fixes (M1-M5)

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 70b2d98 fix: sprint 5 audit fixes (M1-M5) (Tilly57)


# Release v0.9.16 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: sprint 4 audit fixes (C1, C2, H2, H3, H4)

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 5b012e6 fix: sprint 4 audit fixes (C1, C2, H2, H3, H4) (Tilly57)


# Release v0.9.15 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes


### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies
- chore: fix remaining audit items (LOW priority)

### All Commits
- fc559d0 chore: fix remaining audit items (LOW priority) (Tilly57)


# Release v0.9.14 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes


### ğŸ“š Documentation


### ğŸ”§ Improvements
- perf+infra: Sprint 2 medium-priority audit fixes

### ğŸ“¦ Dependencies


### All Commits
- a25c109 perf+infra: Sprint 2 medium-priority audit fixes (Tilly57)


# Release v0.9.13 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes


### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 5cc27e8 security: fix critical audit findings (C1-C6, H1-H3) (Tilly57)


# Release v0.9.12 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes


### ğŸ“š Documentation
- docs: add JSDoc to 50+ frontend components, code review checklist, fix password policy

### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- c726b0f docs: add JSDoc to 50+ frontend components, code review checklist, fix password policy (Tilly57)


# Release v0.9.11 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: LOW audit fixes â€” replace console.log with logger, enable ETag, gitignore cleanup

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 44b9d87 fix: LOW audit fixes â€” replace console.log with logger, enable ETag, gitignore cleanup (Tilly57)


# Release v0.9.10 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: MEDIUM audit fixes â€” token rotation, console suppression, localStorage safety, CI web build

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 8ba39a3 fix: MEDIUM audit fixes â€” token rotation, console suppression, localStorage safety, CI web build (Tilly57)


# Release v0.9.9 - 2026-02-24

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: audit batch 3 â€” Dockerfile multi-stage, cascade constraints, keyboard nav

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 35ec001 fix: audit batch 3 â€” Dockerfile multi-stage, cascade constraints, keyboard nav (Tilly57)


# Release v0.9.8 - 2026-02-23

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features
- feat: configure Sentry DSN for backend and frontend projects

### ğŸ› Bug Fixes


### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- a2d39e8 feat: configure Sentry DSN for backend and frontend projects (Tilly57)


# Release v0.9.7 - 2026-02-23

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features
- feat: add Sentry configuration to docker-compose and web Dockerfile

### ğŸ› Bug Fixes


### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 16a6ac5 feat: add Sentry configuration to docker-compose and web Dockerfile (Tilly57)


# Release v0.9.6 - 2026-02-23

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix(ci): E2E workflow â€” add --legacy-peer-deps and dynamic JWT secrets

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- dc07507 fix(ci): E2E workflow â€” add --legacy-peer-deps and dynamic JWT secrets (Tilly57)


# Release v0.9.5 - 2026-02-23

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: high-priority audit fixes â€” sort injection, hardcoded secrets, resource limits

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- cdfb0a5 fix: high-priority audit fixes â€” sort injection, hardcoded secrets, resource limits (Tilly57)


# Release v0.9.4 - 2026-02-23

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix(test): add missing headers mock in auth.controller.test.js
- fix(test): add missing logout mock in auth.controller.test.js
- fix(ci): split unit and integration tests, keep unit tests blocking
- fix(ci): fix pre-existing CI failures exposed by blocking checks

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 8002f06 fix(test): add missing headers mock in auth.controller.test.js (Tilly57)
- 146f382 fix(test): add missing logout mock in auth.controller.test.js (Tilly57)
- 228b798 fix(ci): split unit and integration tests, keep unit tests blocking (Tilly57)
- 94d5070 fix(ci): fix pre-existing CI failures exposed by blocking checks (Tilly57)


# Release v0.9.3 - 2026-02-23

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes


### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 33836c2 security: fix critical audit findings (C1, C2, C3) (Tilly57)


# Release v0.9.2 - 2026-02-23

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: add missing managerId migration for Employee table

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 8ce23aa fix: add missing managerId migration for Employee table (Tilly57)


# Release v0.9.1 - 2026-02-23

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features


### ğŸ› Bug Fixes
- fix: add lowercase CORS origin for www.tillyinventaire.ti

### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies


### All Commits
- 6aa121e fix: add lowercase CORS origin for www.tillyinventaire.ti (Tilly57)


# Release v0.9.0 - 2026-02-23

## Summary

<!-- Add a brief summary of this release -->

## Changes

### âœ¨ Features
- feat: add HTTPS reverse proxy with Nginx SSL termination

### ğŸ› Bug Fixes


### ğŸ“š Documentation


### ğŸ”§ Improvements


### ğŸ“¦ Dependencies
- chore: add production branch to release workflow
- chore: prepare release 0.8.2

### All Commits
- aef366e chore: add production branch to release workflow (Tilly57)
- 6ab7a23 feat: add HTTPS reverse proxy with Nginx SSL termination (Tilly57)
- e1cfeba security: fix critical audit findings (C1, C2, C3) (Tilly57)
- 442f98e chore: prepare release 0.8.2 (Tilly57)

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [0.8.1] - 2026-01-22

### Added

**Monitoring & Error Tracking (Sentry Integration)**
- Sentry backend integration (`@sentry/node@10.36.0`, `@sentry/profiling-node@8.41.0`)
  - Automatic error capture for unhandled exceptions
  - Performance monitoring with configurable sampling
  - CPU/Memory profiling for production insights
  - Request context tracking (URL, method, user agent, user ID)
  - Automatic filtering of sensitive data (Authorization, Cookie headers)
  - Only server errors (500+) sent to Sentry
  - Configuration via environment variables (`SENTRY_DSN`, `SENTRY_ENVIRONMENT`)
- Sentry frontend integration (`@sentry/react@10.36.0`)
  - Automatic React error boundaries
  - Performance monitoring with Web Vitals (LCP, FID, CLS)
  - Session replay for debugging (text masked for privacy)
  - User action breadcrumbs (clicks, navigation, API calls)
  - React Router integration for navigation tracking
  - Automatic user context after login/logout
  - Sensitive data filtering (tokens, localStorage)
- Configuration files: `apps/api/src/config/sentry.js`, `apps/web/src/lib/sentry.ts`
- Documentation: `docs/SENTRY_INTEGRATION.md` (8,000+ words), `docs/SENTRY_QUICKSTART.md` (3,000+ words)

**Automated Database Backups**
- Cross-platform backup automation script: `scripts/backup-automation.js`
  - Support for Windows (Task Scheduler), Linux/Mac (cron), Docker (crond)
  - Automatic scheduling (default 2:00 AM, configurable)
  - PostgreSQL custom format compression (level 9)
  - Size verification to detect failures
  - Detailed logging in `backups/logs/`
- Intelligent retention policy
  - Configurable policy (30 days default)
  - Automatic cleanup of obsolete backups
  - Preservation of manual backups
  - Protection of `pre_restore_*` backups
- HTTP monitoring service: `scripts/backup-monitor.js`
  - `/health` endpoint - Status 200 (healthy) or 503 (unhealthy)
  - `/metrics` endpoint - Prometheus-compatible metrics
  - `/status` endpoint - HTML dashboard with details
  - Detection of missing or stale backups
- Setup scripts: `scripts/setup-backup-automation.bat` (Windows), `scripts/setup-backup-automation.sh` (Linux/Mac)
- Docker configuration: `docker-compose.backup.yml`
- Documentation: `docs/BACKUP_AUTOMATION.md` (12,000+ words)

**Critical Path E2E Tests**
- Smoke tests: `apps/web/e2e/00-smoke.spec.ts` (10 tests, ~2 min)
  - Login and dashboard access
  - Complete menu navigation
  - Employee, asset model, asset item creation
  - Loan creation
  - Data export
  - Logout and route protection
  - Functional search
  - Error handling
- Critical loan workflow: `apps/web/e2e/11-critical-loan-workflow.spec.ts`
  - Complete lifecycle: create â†’ add items â†’ pickup signature â†’ return signature â†’ close
  - Uses fixtures for test data
  - Automatic cleanup after each test
- Test fixtures: `apps/web/e2e/fixtures.ts`
  - `createTestEmployee()` - Create employee with unique data
  - `createTestAssetModel()` - Create asset model
  - `createTestAssetItem()` - Create asset item
  - `createTestStockItem()` - Create stock item
  - `createTestLoan()` - Create loan
  - `cleanupTestData()` - Complete cleanup
- GitHub Actions CI/CD: `.github/workflows/e2e-tests.yml`
  - Triggers: PRs, main pushes, nightly, manual
  - Services: PostgreSQL 16 + Redis 7
  - Execution: smoke tests (fail fast) â†’ critical tests â†’ all tests
  - Upload: HTML reports + failure videos + traces
  - Automatic PR result comments
- Helper scripts: `scripts/run-e2e-tests.bat` (Windows), `scripts/run-e2e-tests.sh` (Linux/Mac)
- Documentation: `docs/E2E_TESTING.md` (11,000+ words)

### Changed

**API Configuration**
- Modified `apps/api/src/index.js` - Added Sentry initialization
- Modified `apps/api/src/app.js` - Integrated Sentry request handling
- Modified `apps/api/src/middleware/errorHandler.js` - Sentry error capture

**Frontend Configuration**
- Modified `apps/web/src/main.tsx` - Sentry initialization before React render
- Modified `apps/web/src/App.tsx` - Wrapped Routes with Sentry tracking
- Modified `apps/web/src/lib/hooks/useAuth.ts` - User context tracking

**Environment Variables**
- Updated `.env.example` files with Sentry configuration variables
- Added backup automation configuration variables

### Documentation

**New Documents (35,000+ words)**
- `docs/SENTRY_INTEGRATION.md` - Complete Sentry guide (8,000 words)
- `docs/SENTRY_QUICKSTART.md` - Sentry quick start (3,000 words)
- `docs/BACKUP_AUTOMATION.md` - Automated backups guide (12,000 words)
- `docs/E2E_TESTING.md` - E2E testing guide (11,000 words)
- `COURT_TERME_COMPLETE.md` - Complete summary of improvements
- `ROADMAP.md` - Project roadmap with short/medium/long term plans
- `.release-notes/v0.8.1.md` - Comprehensive release notes

**Updated Documents**
- `README.md` - Added v0.8.1 section, new badges, updated documentation links
- `backups/README.md` - New automation features

### Metrics

**Before v0.8.1:**
- Tests: 292 tests (backend + frontend)
- Documentation: ~50,000 words
- Monitoring: None
- Backups: Manual only (PowerShell scripts)
- E2E Tests: Existing but loan test disabled

**After v0.8.1:**
- Tests: 300+ tests (added smoke + critical workflow)
- Documentation: ~85,000 words (+35,000 words)
- Monitoring: Sentry integrated (backend + frontend)
- Backups: Automated multi-platform with monitoring
- E2E Tests: Critical paths functional + CI/CD

**Impact:**
- ğŸ¯ Real-time production error detection
- ğŸ“Š Performance metrics (API + Web Vitals)
- ğŸ¤– Guaranteed daily backups without intervention
- ğŸ“ˆ Backup health monitoring with alerts
- âœ… Automated critical tests on PRs

### Dependencies

**Added:**
- `@sentry/node@10.36.0` - Sentry backend SDK
- `@sentry/profiling-node@8.41.0` - Sentry profiling
- `@sentry/react@10.36.0` - Sentry frontend SDK

### Notes

- Sentry requires separate DSN configuration for backend and frontend
- Backup automation requires Node.js 20+ and Docker
- Windows backup setup requires Administrator rights for Task Scheduler
- Linux/Mac backup setup requires active cron daemon
- E2E CI/CD requires GitHub Actions enabled
- Sentry package installed with `--legacy-peer-deps` for React 19 compatibility

## [0.8.0] - 2026-01-XX

### Security

**CORS & Security Headers**
- Helmet CSP (Content Security Policy) integration
- CORS configuration hardening
- CSRF protection implementation

**Code Cleanup**
- Removal of unused files and dependencies
- Code quality improvements

## [0.6.4] - 2025-12-30

### Added
- **Date de prÃªt par article** - Chaque article dans un prÃªt affiche maintenant sa propre date d'ajout (colonne "Date du prÃªt")
- Champ `addedAt` dans LoanLine pour tracker quand chaque article est prÃªtÃ©

### Fixed
- **RafraÃ®chissement cache Ã©quipements** - Les modifications s'affichent immÃ©diatement dans le tableau

## [0.6.3] - 2025-12-30

### Fixed
- **Support types d'Ã©quipement dynamiques** - Les types crÃ©Ã©s par ADMIN (ex: TÃ©lÃ©phone portable) gÃ©nÃ¨rent maintenant correctement des AssetItems individuels
- **Invalidation cache frontend** - La liste des Ã©quipements se rafraÃ®chit automatiquement aprÃ¨s crÃ©ation d'un modÃ¨le avec quantitÃ©
- **PrÃ©fixe TEL-** - Ajout du prÃ©fixe de tag pour les tÃ©lÃ©phones portables

### Changed
- Logique backend : tous les types sont trackÃ©s individuellement par dÃ©faut, sauf les consommables (CÃ¢ble, Adaptateur, Autre)

## [0.6.2] - 2025-12-30

### Added

**Import Bulk d'EmployÃ©s**
- Endpoint `POST /api/employees/bulk` pour crÃ©ation en masse d'employÃ©s
- Validation Zod `bulkCreateEmployeesSchema` pour arrays d'employÃ©s
- Service `bulkCreateEmployees` avec gestion des doublons et erreurs dÃ©taillÃ©es
- Frontend `ImportEmployeesDialog` utilise le bulk endpoint au lieu de requÃªtes individuelles

### Fixed
- **RÃ©solution rate limiting (429 Too Many Requests)** lors de l'import Excel d'employÃ©s
- Import de 100+ employÃ©s maintenant possible en une seule requÃªte au lieu de 100+ requÃªtes sÃ©parÃ©es

## [0.5.0] - 2025-12-29

### Added

**Infrastructure de Tests Backend (Jest + Supertest)**
- Configuration Jest complÃ¨te avec support ES Modules et cross-platform
- 11 tests unitaires auth service (register, login, JWT tokens) - 100% passants
- 14 tests unitaires loans service (create, close, soft delete)
- Tests d'intÃ©gration API endpoints (auth routes avec Supertest)
- Test utilities: `testUtils.js` (create test data), `apiTestUtils.js` (API helpers)
- Scripts NPM: `test`, `test:watch`, `test:coverage`, `test:unit`, `test:integration`
- Fichiers de configuration: `jest.config.js`, `.env.test`, setup files
- Support Windows avec `cross-env`
- Coverage: ~30% (auth service complet)

**Rate Limiting (Protection API)**
- Middleware `express-rate-limit` configurÃ© avec 4 niveaux de protection:
  - **General limiter**: 100 requÃªtes / 15 minutes (toutes routes API)
  - **Auth limiter**: 5 requÃªtes / 15 minutes (protection brute force login/register)
  - **Mutation limiter**: 30 requÃªtes / 15 minutes (POST/PUT/PATCH/DELETE)
  - **Upload limiter**: 10 uploads / heure (signatures)
- Headers `RateLimit-*` standards dans les rÃ©ponses
- Messages d'erreur en franÃ§ais
- AppliquÃ© Ã  `app.js` (general) et `auth.routes.js` (auth strict)

**Secrets Management**
- Externalisation complÃ¨te des secrets de `docker-compose.yml`
- Fichiers `.env` crÃ©Ã©s (root, api, web) avec toutes les variables
- Fichiers `.env.example` templates avec instructions
- `.gitignore` complet pour protection des secrets (multi-niveaux)
- Variables sÃ©curisÃ©es: `POSTGRES_PASSWORD`, `JWT_ACCESS_SECRET`, `JWT_REFRESH_SECRET`
- Documentation gÃ©nÃ©ration secrets forts: `openssl rand -base64 32`
- Protection contre commits accidentels de secrets

### Changed

**Docker Compose**
- Passage de secrets hardcodÃ©s Ã  variables d'environnement `${VAR}`
- Lecture depuis `.env` root pour toutes les configurations
- Variables: database, JWT secrets, CORS, signatures directory

**Package.json (API)**
- Ajout de 5 nouveaux scripts de test
- Configuration cross-platform avec `cross-env`

### Security

- âœ… **Aucun secret hardcodÃ©** - Tous externalisÃ©s dans .env (gitignored)
- âœ… **Protection brute force** - Max 5 tentatives login / 15 minutes
- âœ… **Protection DoS** - Rate limiting gÃ©nÃ©ral 100 req / 15 minutes
- âœ… **Protection spam** - Limitations mutations et uploads
- âœ… **Tests automatisÃ©s** - Validation auth et business logic

### Documentation

- **IMPROVEMENTS_CRITIQUE.md** - Guide complet 30+ pages des amÃ©liorations
- **TODO.md** - Roadmap amÃ©liorations futures (CRITIQUE, IMPORTANT, RECOMMANDÃ‰, SOUHAITÃ‰)
- **README.md** - Section "SÃ©curitÃ© & QualitÃ©" ajoutÃ©e
- Documentation technique rate limiting et tests
- Instructions setup production avec .env

### Dependencies

**AjoutÃ©es:**
- `jest@^30.2.0` - Framework de tests
- `@jest/globals@^30.2.0` - Globals Jest pour ES Modules
- `supertest@^7.1.4` - Tests endpoints HTTP
- `@types/jest@^30.0.0` - Types Jest
- `@types/supertest@^6.0.3` - Types Supertest
- `cross-env@^10.1.0` - Variables env cross-platform
- `express-rate-limit@^8.2.1` - Rate limiting middleware

## [0.4.1] - 2025-12-29

### Fixed
- **UI Dashboard**: Changement de la couleur de l'icÃ´ne "Ã‰quipements"
  - Ajout de la couleur 'info' (bleu) dans le composant StatsCard
  - IcÃ´ne Ã‰quipements : danger (rouge) â†’ info (bleu)
  - Meilleure distinction visuelle entre EmployÃ©s (orange) et Ã‰quipements (bleu)

## [0.4.0] - 2025-12-29

### Added
- **Suppression en masse des modÃ¨les d'Ã©quipements (ADMIN uniquement)**:
  - Checkboxes multi-sÃ©lection dans la table des modÃ¨les (visible ADMIN uniquement)
  - Bouton "Supprimer (X)" pour suppression en masse
  - Dialogue `BulkDeleteAssetModelsDialog` avec dÃ©tails et avertissements
  - Endpoint backend `POST /api/asset-models/batch-delete` (middleware `requireAdmin`)
  - Suppression cascade automatique : ModÃ¨le + AssetItems + StockItems
  - Transaction atomique pour garantir l'intÃ©gritÃ© des donnÃ©es
  - Validation : bloque si Ã©quipements prÃªtÃ©s (status PRETE) ou stock prÃªtÃ© (loaned > 0)
  - Invalidation cache complÃ¨te : assetModels, assetItems, stockItems
  - Toast avec compteurs de suppression (modÃ¨les, Ã©quipements, stock)

### Changed
- **Service AssetModels**: Modification de `deleteAssetModel()` pour suppression cascade
  - Suppression d'un modÃ¨le supprime dÃ©sormais tous les AssetItems et StockItems associÃ©s
  - Protection : impossible si des Ã©quipements sont actuellement prÃªtÃ©s
  - Protection : impossible si des articles de stock sont actuellement prÃªtÃ©s

## [0.3.1] - 2025-12-29

### Fixed
- **UI**: Masquer les boutons de crÃ©ation d'Ã©quipements et de modÃ¨les
  - Bouton "Nouvel Ã©quipement" masquÃ© dans la page Ã‰quipements
  - Bouton "Nouveau modÃ¨le" masquÃ© dans la page Stock

## [0.3.0] - 2025-12-29

### Added
- **Soft Delete pour PrÃªts**: Conservation complÃ¨te de l'historique
  - Migration Prisma: ajout de `deletedAt` et `deletedById` au modÃ¨le Loan
  - PrÃªts marquÃ©s comme supprimÃ©s au lieu d'Ãªtre effacÃ©s dÃ©finitivement
  - Conservation des signatures, lignes de prÃªt et traÃ§abilitÃ© complÃ¨te
  - RÃ©version automatique des statuts d'Ã©quipements (PRETE â†’ EN_STOCK)
  - Restauration automatique des quantitÃ©s en stock (quantity +1, loaned -1)
  - TraÃ§abilitÃ©: qui a supprimÃ©, quand, avec relation vers l'utilisateur

- **Impression Historique (ADMIN uniquement)**:
  - Nouveau bouton "Imprimer l'historique" visible uniquement pour les ADMIN
  - Dialogue de sÃ©lection: tout l'historique ou employÃ© spÃ©cifique
  - Vue d'impression optimisÃ©e A4 avec format professionnel
  - Affichage dÃ©taillÃ©: prÃªts, employÃ©s, articles, signatures, dates
  - Export PDF via boÃ®te de dialogue d'impression du navigateur
  - Composant `PrintLoansHistoryDialog` pour la sÃ©lection
  - Composant `LoansPrintView` pour l'affichage imprimable

### Changed
- **Services Backend**: Adaptation pour soft delete
  - `deleteLoan()`: UPDATE au lieu de DELETE, conservation des donnÃ©es
  - `batchDeleteLoans()`: Suppression en masse avec soft delete
  - `getAllLoans()`: Filtre automatique `deletedAt: null`
  - Protection: toutes les fonctions de modification rejettent les prÃªts supprimÃ©s

- **Controllers**: Passage de `userId` pour traÃ§abilitÃ© des suppressions

### Fixed
- **Validation**: Correction schÃ©ma batch delete (retrait wrapper `body` inutile)
- **UI**: Ajout composant manquant `radio-group.tsx`
- **Dependencies**: Installation `@radix-ui/react-radio-group`

## [0.2.3] - 2025-12-29

### Added
- **Scripts**: Automatisation complÃ¨te de la crÃ©ation de GitHub release
  - `deploy-production.sh` crÃ©e automatiquement la release sans confirmation
  - Affichage du lien direct vers la release crÃ©Ã©e

### Removed
- **Scripts**: Suppression de `quick-commit.sh`
  - Respect strict du workflow de release (feature â†’ staging â†’ release.sh)
  - Pas de commits directs sur main

### Changed
- **Dashboard**: Code production-ready
  - Retrait des logs de debug de `getLowStockItemsApi()`
  - Performance optimisÃ©e

## [0.2.2] - 2025-12-29

### Added
- **Dashboard**: Carte "Alertes stock bas" affiche maintenant tous les types d'articles
  - Support unifiÃ© pour StockItems (consommables) ET AssetItems (Ã©quipements)
  - AssetItems groupÃ©s par modÃ¨le avec comptage des items EN_STOCK
  - Nouveau type `LowStockAlertItem` pour unifier les deux sources
  - Labels dynamiques : "disponible(s)" pour stock, "en stock" pour assets
  - Logs de debug dÃ©taillÃ©s pour troubleshooting

### Changed
- **API**: `getLowStockItemsApi()` rÃ©cupÃ¨re et combine les deux types d'articles
- **Logique d'alerte**:
  - StockItems: alerte si (quantity - loaned) < 2
  - AssetItems: alerte si nombre EN_STOCK par modÃ¨le < 2

## [0.2.1] - 2025-12-29

### Fixed
- **Dashboard**: Correction du seuil de stock bas incohÃ©rent
  - Synchronisation de `LOW_STOCK_THRESHOLD` entre l'API (5) et le composant (2)
  - Import de la constante depuis `constants.ts` (valeur unifiÃ©e: 2)
  - Mise Ã  jour de la documentation JSDoc

### Changed
- **CI/CD**: Optimisation du workflow GitHub Actions Claude Code
  - Validation prÃ©alable (skip bots, drafts, WIP)
  - Caching multi-niveaux (npm, Python, contexte Claude)
  - Auto-labeling basÃ© sur fichiers modifiÃ©s
  - Documentation complÃ¨te du workflow (450+ lignes)

### Documentation
- **README.md**: RÃ©Ã©criture complÃ¨te avec badges et informations v0.2.0
  - Badges version, license, node, TypeScript
  - Section nouveautÃ©s v0.2.0
  - Documentation architecture et installation
  - Guide des scripts d'automatisation

## [0.2.0] - 2024-12-29

### Added

**Automatisation & DevOps**
- Scripts d'automatisation pour le workflow de release (release.sh, deploy-production.sh, quick-commit.sh)
- SystÃ¨me de versioning sÃ©mantique (MAJOR.MINOR.PATCH)
- GÃ©nÃ©ration automatique de CHANGELOG et release notes
- Documentation complÃ¨te workflow (RELEASE_WORKFLOW.md, scripts/README.md)

**Documentation**
- Documentation JSDoc complÃ¨te (95% - 38/40 fichiers)
- Backend: 7 services, 3 middlewares, 3 controllers, 3 utils
- Frontend: 8 API clients, 8 hooks, 4 composants, 2 config
- COMMENTING_GUIDE.md avec templates et bonnes pratiques

**FonctionnalitÃ©s Core**
- CrÃ©ation en masse d'Ã©quipements avec tags sÃ©quentiels auto-gÃ©nÃ©rÃ©s
- Import Excel d'employÃ©s avec gÃ©nÃ©ration auto d'emails et sanitization
- Dashboard enrichi avec stats temps rÃ©el et alertes stock bas
- Gestion complÃ¨te des prÃªts avec signatures numÃ©riques
- Suivi des quantitÃ©s prÃªtÃ©es pour articles de stock

**Interface Utilisateur**
- Charte graphique Groupe Tilly (Orange #EE2722, Noir #231F20)
- Logo personnalisÃ© (header, login, favicon)
- Pagination universelle sur toutes les listes
- SÃ©lection multiple avec checkboxes
- Navigation mobile responsive
- Skeleton loaders pour Ã©tats de chargement

**Architecture Technique**
- SystÃ¨me d'erreurs personnalisÃ©es (AppError, ValidationError, etc.)
- JWT dual-token strategy (access 15min, refresh 7d)
- Middlewares robustes (auth, RBAC, errorHandler)
- React Query pour cache et synchronisation
- Validation Zod complÃ¨te frontend/backend

### Changed
- StockItems rÃ©fÃ©rencent maintenant AssetModels (refactorisation majeure)
- SchÃ©ma Prisma avec champ `loaned` pour tracking quantitÃ©s
- Formulaire Ã©quipements en mode conditionnel (simple/bulk)

### Fixed
- Correction erreurs TypeScript pour build frontend
- Fix affichage modÃ¨le et reset formulaires
- Correction champ modelId â†’ assetModelId
- Extraction correcte assetModel dans controllers
- PrÃ©vention doublons import Excel

### Security
- Routes protÃ©gÃ©es avec RBAC (ADMIN, GESTIONNAIRE, LECTURE)
- Tokens httpOnly cookies (protection XSS)
- Messages d'erreur gÃ©nÃ©riques (prÃ©vention email enumeration)
- Validation inputs stricte (Zod + Prisma)

## [0.1.0] - 2024-01-XX

### Added
- Initial release
- SystÃ¨me de gestion d'inventaire IT
- Gestion des Ã©quipements (AssetItems) et modÃ¨les (AssetModels)
- Gestion des stocks consommables (StockItems)
- Gestion des employÃ©s avec import Excel
- SystÃ¨me de prÃªts avec signatures numÃ©riques
- Dashboard avec statistiques
- Authentication JWT avec refresh tokens
- RBAC (Role-Based Access Control)
- API REST complÃ¨te
- Frontend React avec TypeScript
- Docker Compose pour dÃ©veloppement

---

**LÃ©gende** :
- `Added` - Nouvelles fonctionnalitÃ©s
- `Changed` - Modifications de fonctionnalitÃ©s existantes
- `Deprecated` - FonctionnalitÃ©s bientÃ´t supprimÃ©es
- `Removed` - FonctionnalitÃ©s supprimÃ©es
- `Fixed` - Corrections de bugs
- `Security` - Corrections de sÃ©curitÃ©
