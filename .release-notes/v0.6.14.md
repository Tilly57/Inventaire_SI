# Release Notes v0.6.14

**Date:** 2024-12-31
**Type:** Bug Fix
**Branch:** main

## ğŸ¯ Objectif

Correction des erreurs TypeScript bloquant le build CI/CD suite au dÃ©ploiement v0.6.13.

## ğŸ› Corrections de bugs

### Erreurs TypeScript CI/CD (Critique)

Quatre erreurs TypeScript identifiÃ©es et corrigÃ©es pour permettre le passage du build:

#### 1. EquipmentByTypeChart.tsx
- **Erreur:** Variable `entry` dÃ©clarÃ©e mais non utilisÃ©e (TS6133)
- **Ligne:** 115
- **Fix:** PrÃ©fixÃ© avec underscore `_entry` pour indiquer intentionnellement inutilisÃ©
- **Fichier:** `apps/web/src/components/dashboard/EquipmentByTypeChart.tsx`

#### 2. Pagination.test.tsx
- **Erreur:** Props manquantes dans PaginationProps (TS2739)
- **Props manquantes:** pageSize, totalItems, onPageSizeChange
- **Occurrences:** 7 tests affectÃ©s
- **Fix:** Ajout des props manquantes avec valeurs par dÃ©faut cohÃ©rentes
- **Fichier:** `apps/web/src/test/components/Pagination.test.tsx`

```typescript
// AjoutÃ© Ã  chaque test
pageSize={20}
totalItems={200}
onPageSizeChange={vi.fn()}
```

#### 3. StatsCard.test.tsx
- **Erreur:** PropriÃ©tÃ© `trend` inexistante sur StatsCardProps (TS2322)
- **Occurrences:** 3 tests affectÃ©s
- **Cause:** Tests obsolÃ¨tes rÃ©fÃ©renÃ§ant une prop supprimÃ©e
- **Fix:** RÃ©Ã©criture des tests pour utiliser les props actuelles (description, color)
- **Fichier:** `apps/web/src/test/components/StatsCard.test.tsx`

#### 4. StatusBadge.test.tsx
- **Erreur:** Type "UNKNOWN" non assignable Ã  AssetStatus (TS2322)
- **Ligne:** 35
- **Fix:** Correction syntaxe type assertion: `status={"UNKNOWN" as any}`
- **Fichier:** `apps/web/src/test/components/StatusBadge.test.tsx`

## ğŸ“Š Impact

**Avant v0.6.14:**
- âŒ Build CI/CD bloquÃ© (11 erreurs TypeScript)
- âŒ Impossible de merger des PRs
- âŒ Pipeline de dÃ©ploiement en Ã©chec

**AprÃ¨s v0.6.14:**
- âœ… Build CI/CD passant
- âœ… Tests TypeScript validÃ©s
- âœ… Pipeline de dÃ©ploiement opÃ©rationnel

## ğŸ”§ DÃ©tails techniques

### Fichiers modifiÃ©s
- `apps/web/src/components/dashboard/EquipmentByTypeChart.tsx` (1 ligne)
- `apps/web/src/test/components/Pagination.test.tsx` (+28 lignes)
- `apps/web/src/test/components/StatsCard.test.tsx` (rÃ©Ã©criture 3 tests)
- `apps/web/src/test/components/StatusBadge.test.tsx` (1 ligne)

### Pattern corrections tests

**Pagination - Props complÃ¨tes:**
```typescript
<Pagination
  currentPage={1}
  totalPages={10}
  pageSize={20}        // âœ… AjoutÃ©
  totalItems={200}     // âœ… AjoutÃ©
  onPageChange={fn}
  onPageSizeChange={fn} // âœ… AjoutÃ©
/>
```

**StatsCard - Props actuelles:**
```typescript
// âŒ Avant (obsolÃ¨te)
<StatsCard trend={{ value: 5, isPositive: true }} />

// âœ… AprÃ¨s (correct)
<StatsCard
  description="Currently active"
  color="success"
/>
```

## âœ… Tests

- âœ… Compilation TypeScript OK
- âœ… Tests unitaires passants
- âœ… Build CI/CD validÃ©
- âœ… Aucune rÃ©gression fonctionnelle

## ğŸ”„ Migration

Aucune migration nÃ©cessaire - corrections limitÃ©es aux tests et types.

## ğŸ“ Commits

**fix: Correction erreurs TypeScript tests CI/CD**
- SHA: bdb5d2c
- 4 fichiers modifiÃ©s, 42 insertions(+), 12 suppressions(-)

## ğŸ”— DÃ©pendances version prÃ©cÃ©dente

Cette release corrige les problÃ¨mes introduits lors du refactoring de la v0.6.13 (cache invalidation et session persistence).

---

**TestÃ© par:** Claude Code
**ApprouvÃ© par:** [Ã€ complÃ©ter]
**Build CI/CD:** âœ… Passing
